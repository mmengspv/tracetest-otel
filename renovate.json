{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": ["config:recommended"],
  "packageRules": [
    {
      "matchPackageNames": ["github.com/gorilla/mux"],
      "allowedVersions": "/^v[0-9]+\\.[0-9]+\\.[0-9]+(\\.[0-9]+)?$/"
    },
    {
      "matchPackagePatterns": ["go.opentelemetry.io/otel/*"],
      "allowedVersions": "/^v1.1[0-9]+\\.[0-9]+(\\.[0-9]+)?$/"
    }
  ],
  "customDatasources": {
    "local_datasource": {
      "defaultRegistryUrlTemplate": "https://api.github.com/repos/gorilla/mux/releases",
      "transformTemplates": [
        "{ \"releases\": $map($, function($v) { { \"version\": $v.tag_name, \"sourceUrl\": $v.filelink } }) }"
      ]
    }
  },
  "customManagers": [
    {
      "customType": "regex",
      "fileMatch": ["test\\.yml$"],
      "datasourceTemplate": "custom.local_datasource",
      "matchStrings": [
        "#\\s*renovate:\\s*(datasource=(?<datasource>.*?)\\s*)?depName=(?<depName>.*?)(\\s*versioning=(?<versioning>.*?))?\\s*\\w*:\\s*[\"']?(?<currentValue>.+?)[\"']?\\s"
      ],
      "versioningTemplate": "{{#if versioning}}{{{versioning}}}{{else}}semver{{/if}}"
    }
  ]
}
